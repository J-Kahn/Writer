<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Writer - Login</title>
<style>
:root {
  --bg: #1a1b26;
  --bg-panel: #16161e;
  --bg-hover: #292e42;
  --border: #3b4261;
  --text: #c0caf5;
  --text-dim: #565f89;
  --accent: #7aa2f7;
  --red: #f7768e;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body {
  height: 100%; background: var(--bg); color: var(--text);
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  display: flex; align-items: center; justify-content: center;
}
.login-box {
  background: var(--bg-panel); border: 1px solid var(--border);
  border-radius: 8px; padding: 32px; width: 320px;
}
.login-box h1 {
  font-size: 18px; color: var(--accent); margin-bottom: 6px;
}
.login-box .subtitle {
  font-size: 12px; color: var(--text-dim); margin-bottom: 24px;
}
.login-box label {
  display: block; font-size: 11px; text-transform: uppercase;
  letter-spacing: 1px; color: var(--text-dim); margin-bottom: 4px;
}
.login-box input {
  width: 100%; padding: 8px 12px; background: var(--bg);
  border: 1px solid var(--border); color: var(--text);
  font-family: inherit; font-size: 14px; border-radius: 4px;
  margin-bottom: 16px;
}
.login-box input:focus {
  outline: none; border-color: var(--accent);
}
.login-box button {
  width: 100%; padding: 10px; background: var(--accent);
  color: var(--bg); border: none; border-radius: 4px;
  font-family: inherit; font-size: 14px; cursor: pointer;
  font-weight: bold;
}
.login-box button:hover { opacity: 0.9; }
.error {
  color: var(--red); font-size: 12px; margin-bottom: 12px;
  display: none;
}
</style>
</head>
<body>
<form class="login-box" method="POST" action="/login">
  <h1>Writer</h1>
  <div class="subtitle">AI-powered writing environment</div>
  <div class="error" id="error-msg">Invalid username or password.</div>
  <label for="username">Username</label>
  <input type="text" id="username" name="username" autocomplete="username" autofocus>
  <label for="password">Password</label>
  <input type="password" id="password" name="password" autocomplete="current-password">
  <button type="submit">Sign in</button>
</form>
<script>
// Show error if this is a failed login (401 status)
if (document.referrer && document.referrer.includes('/login')) {
  // Re-submission case
}
// Simple: if there's a response code hint in the URL or the page was served with 401
if (performance.getEntriesByType && performance.getEntriesByType('navigation').length) {
  var nav = performance.getEntriesByType('navigation')[0];
  if (nav.responseStatus === 401) {
    document.getElementById('error-msg').style.display = 'block';
  }
}
</script>
</body>
</html>
